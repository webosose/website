---
title: com.webos.service.avoutput
date: 2019-04-25
toc: true
---

{{< caution "Deprecated API" >}}
As of the 2nd release in 2019, `com.webos.service.avoutput` has been retired.
{{< /caution >}}

<div>
  <H2>API Summary</h2>
  <p>This service moves from a context (or state) based implementation to a context-less (stateless) implementation of audio and video handling. Since mediaserver manages pipelines for the applications, avoutput&nbsp;will not hold any context information. avoutput&nbsp;will expose methods which makes the right HAL calls to connect source to sink and position output as needed.</p>
</div>
<h2>Overview of the API</h2>
<div>
  <p><strong>AVOutput</strong>&nbsp;is responsible for connecting the input pipeline to the backend video.&nbsp;The&nbsp;<strong>Media Framework</strong>&nbsp;is responsible for determining the life cycle of a connection and pipeline policy (which application is in ForeGround&nbsp;and has focus, resources etc). Media Framework uses AVOutput&nbsp;APIs to achieve connection and video post-processing.</p>
  <ul>
    <li>AVOutput&nbsp;does NOT have policy</li>
    <li>It provides APIs to connect video source (frames from decoder or HDMI etc) to video plane.</li>
    <li>It provides the HAL abstraction for the backend (i.e. AVOutput&nbsp;will work with HAL or KMS/DRM or ALSA or other hardware abstraction layer) &nbsp;</li>
    <li>It provides the interface for h/w video post-processing and scaling - the post processing functionality will be implemented with a plugin design to allow various degrees of functionality based on product.</li>
  </ul>
  <p>Direct use of avoutputd by application developers is strongly discouraged. Instead, the modules of media framework like UMS, LSM are supposed to use these APIs.</p>
</div>
<h2>Methods</h2>
<div>
  <a id="video/connect"></a>
  <h3>video/connect</h3>
  <div>
    <h4>Description</h4>
    <p>Connects a video source to a video sink</p>
    <h4>Parameters</h4>
    <div class="table-container">
      <table class="table is-bordered is-fullwidth">
        <tbody>
          <tr>
            <th width="15%">
              <p>Name</p>
            </th>
            <th width="15%">
              <p>Required</p>
            </th>
            <th width="15%">
              <p>Type</p>
            </th>
            <th>
              <p>Description</p>
            </th>
          </tr>
          <tr>
            <td>source</td>
            <td>Required</td>
            <td>String</td>
            <td>
              <p>Video source.&nbsp;Possible values are:</p>
              <ul>
                <li>VDEC</li>
                <li>JPEG</li>
                <li>HDMI</li>
                <li>AVD</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>sourcePort</td>
            <td>Optional</td>
            <td>Number (int8_t)</td>
            <td>
              <p>Video port number.</p>
              <p><strong>Note</strong>: For VDEC, the possible values are 0 and 1.</p>
            </td>
          </tr>
          <tr>
            <td>sink</td>
            <td>Required</td>
            <td>String</td>
            <td>
              <p>Video sink. Possible values are:&nbsp;</p>
              <ul>
                <li>MAIN</li>
                <li>SUB</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <h4>Call Returns</h4>
    <div class="table-container">
      <table class="table is-bordered is-fullwidth">
        <tbody>
          <tr>
            <th width="15%">
              <p>Name</p>
            </th>
            <th width="15%">
              <p>Required</p>
            </th>
            <th width="15%">
              <p>Type</p>
            </th>
            <th>
              <p>Description</p>
            </th>
          </tr>
          <tr>
            <td>returnValue</td>
            <td>Required</td>
            <td>Boolean</td>
            <td>
              <p>Indicates the status of operation.&nbsp;Possible values are:</p>
              <ul>
                <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
                <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>errorCode</td>
            <td>Optional</td>
            <td>Number (int8_t)</td>
            <td>
              <p>The error code for the failed operation.</p>
            </td>
          </tr>
          <tr>
            <td>errorText</td>
            <td>Optional</td>
            <td>String</td>
            <td>
              <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
            </td>
          </tr>
          <tr>
            <td>planeID</td>
            <td>Required</td>
            <td>Number (int8_t)</td>
            <td>
              <p>Numeric plane ID of the sink.</p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <h4>Example</h4>
    <div class="code-bg-grey">
      <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/video/connect &#39;{&quot;source&quot;: &quot;VDEC&quot;, &quot;sourcePort&quot;:1, &quot;sink&quot;:&quot;MAIN&quot;, &quot;outputMode&quot;:&quot;DISPLAY&quot;}&#39;</p>
      <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/video/connect &#39;{&quot;source&quot;: &quot;VDEC&quot;, &quot;sourcePort&quot;:0, &quot;sink&quot;:&quot;SUB&quot;, &quot;outputMode&quot;:&quot;DISPLAY&quot;}&#39;</p>
    </div>
  </div>
</div>
<a id="video/disconnect"></a>
<h3>video/disconnect</h3>
<div>
  <h4>Description</h4>
  <p>Disconnects video from sink.</p>
  <h4>Parameters</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>sink</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Video sink. Possible values are:&nbsp;</p>
            <ul>
              <li>MAIN</li>
              <li>SUB</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/video/disconnect &#39;{&quot;sink&quot;:&quot;MAIN&quot;}&#39;</p>
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/video/disconnect &#39;{&quot;sink&quot;:&quot;SUB&quot;}&#39;</p>
  </div>
</div>
<a id="video/setMediaData"></a>
<h3>video/setMediaData</h3>
<div>
  <h4>Description</h4>
  <p>Sets video media data needed for playback.</p>
  <h4>Parameters</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>sink</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Video sink.Possible values are:</p>
            <ul>
              <li>MAIN</li>
              <li>SUB</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>contentType</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Type of media content. Possible values are:</p>
            <ul>
              <li>movie</li>
              <li>photo</li>
              <li>camera</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>frameRate</td>
          <td>Required</td>
          <td>Number (double)</td>
          <td>
            <p>Video frame&nbsp;rate.</p>
          </td>
        </tr>
        <tr>
          <td>width</td>
          <td>Required</td>
          <td>Number (uint32_t)</td>
          <td>
            <p>Video frame width.</p>
          </td>
        </tr>
        <tr>
          <td>height</td>
          <td>Required</td>
          <td>Number (uint32_t)</td>
          <td>
            <p>Video frame height.</p>
          </td>
        </tr>
        <tr>
          <td>scanType</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Type of scan. Possible values are:</p>
            <ul>
              <li>deinterlaced</li>
              <li>interlaced</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>adaptive</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p><span style="color:#000000">Indicates whether the media is adaptive or progressive.</span></p>
            <ul>
              <li><span style="color:#000000"><strong>true</strong>: Adaptive</span></li>
              <li><span style="color:#000000"><strong>false</strong>: Progressive.</span></li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/video/setMediaData &#39;{&quot;sink&quot;:&quot;MAIN&quot;, &quot;contentType&quot;:&quot;movie&quot;, &quot;frameRate&quot;:24,&quot;width&quot;:640,&quot;height&quot;:480, &quot;adaptive&quot;:false, &quot;scanType&quot;:&quot;progressive&quot;}</p>
  </div>
</div>
<a id="video/getStatus"></a>
<h3>video/getStatus</h3>
<div>
  <h4>Description</h4>
  <p>Lists all video sinks and their status.</p>
  <h4>Parameters</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>subscribe</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Subscribe for notifications when value changes.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Get notifications</li>
              <li><strong>false&nbsp;</strong>- Notifications are not required</li>
            </ul>
            <p>Note:&nbsp;This returns one entry for each MAIN and SUB.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>subscribed</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates if&nbsp;subscribed to get notified&nbsp;when there is a change in value.</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Subscribed for changes</li>
              <li><strong>false&nbsp;</strong>- Not subscribed</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Subscription Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>sink</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Video sink. Possible values are:</p>
            <ul>
              <li>MAIN</li>
              <li>SUB</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>connectedSource</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Video source connected.</p>
            <p><strong>Note</strong>: Returns &#39;null&#39; if not connected.</p>
          </td>
        </tr>
        <tr>
          <td>connectedSourcePort</td>
          <td>Required</td>
          <td>Number (int8_t)</td>
          <td>
            <p>Port of the source to which sink is connected</p>
          </td>
        </tr>
        <tr>
          <td>muted</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Possible values are:</p>
            <ul>
              <li><strong>true</strong>: Video is on mute</li>
              <li><strong>false</strong>: Video is not on mute</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>frameRate</td>
          <td>Required</td>
          <td>Number (double)</td>
          <td>
            <p>Frame rate of video.</p>
          </td>
        </tr>
        <tr>
          <td>width</td>
          <td>Required</td>
          <td>Number (int8_t)</td>
          <td>
            <p>Frame width of video.</p>
          </td>
        </tr>
        <tr>
          <td>scanType</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Type of scan. Possible values are:</p>
            <ul>
              <li>progressive</li>
              <li>interlaced</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>adaptive</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Possible values are:</p>
            <ul>
              <li><strong>true</strong>: adaptive</li>
              <li><strong>false</strong>: non- adaptive</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>fullscreen</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Possible&nbsp;values are:</p>
            <ul>
              <li><strong>true </strong>: if output is fullscreen</li>
              <li><strong>false</strong>: if otherwise</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>displayOutput</td>
          <td>Required</td>
          <td>Object: <a href="#VideoRect"> VideoRect</a></td>
          <td>
            <p>Specifies display output location.</p>
          </td>
        </tr>
        <tr>
          <td>sourceInput</td>
          <td>Required</td>
          <td>Object: <a href="#VideoRect"> VideoRect</a></td>
          <td>
            <p>Specifies source or input cropping location.</p>
          </td>
        </tr>
        <tr>
          <td>opacity</td>
          <td>Required</td>
          <td>Number (uint8_t)</td>
          <td>
            <p>Possible values are in the range of 0..255.</p>
            <ul>
              <li>0 = Highest transparency value</li>
              <li>255 = Highest opacity value</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>zOrder</td>
          <td>Required</td>
          <td>Number (int8_t)</td>
          <td>
            <p>Possible values are:</p>
            <ul>
              <li>int (0..3) - relative order from Main, Sub1, Sub2, Sub3</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/video/getStatus &#39;{&quot;subscribe&quot;:true}&#39;</p>
  </div>
</div>
<a id="video/blankVideo"></a>
<h3>video/blankVideo</h3>
<div>
  <h4>Description</h4>
  <p>Stop/start data output to video sink. This allows seamless disconnect and connect and avoids invalid data output while reconnection is in progress.</p>
  <h4>Parameters</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>sink</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Video sink. Possible values are:</p>
            <ul>
              <li>MAIN</li>
              <li>SUB</li>
            </ul>
            <p><strong>Note</strong>: Mute video for specified sink.</p>
          </td>
        </tr>
        <tr>
          <td>blank</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Possible values are:</p>
            <ul>
              <li><strong>true</strong>:&nbsp;blank/mute video</li>
              <li><strong>false</strong>: unmute the video</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/video/blankVideo &#39;{&quot;sink&quot;:&quot;MAIN&quot;, &quot;blank&quot;:true}&#39;</p>
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/video/blankVideo &#39;{&quot;sink&quot;:&quot;MAIN&quot;, &quot;blank&quot;:false}&#39;</p>
  </div>
</div>
<a id="video/display/setDisplayWindow"></a>
<h3>video/display/setDisplayWindow</h3>
<div>
  <h4>Description</h4>
  <p>Setup video output location on the screen for specified sink.</p>
  <p><strong>Note</strong>: Video is actually placed only if setVideoMediaData has been called.<br />
    Otherwise the values are stored and video is placed after subsequent setVideoMediaData call.
  </p>
  <h4>Parameters</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>sink</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Video sink. Possible values are:</p>
            <ul>
              <li>MAIN</li>
              <li>SUB</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>fullScreen</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Possible&nbsp;values are:</p>
            <ul>
              <li><strong>true</strong>: output is fullscreen</li>
              <li><strong>false</strong>:&nbsp;use data from displayOuput</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>displayOutput</td>
          <td>Optional</td>
          <td>Object: <a href="#VideoRect"> VideoRect</a></td>
          <td>
            <p>Display output rectangle.</p>
            <p><strong>Note</strong>: Required if fullscreen is false.</p>
          </td>
        </tr>
        <tr>
          <td>sourceInput</td>
          <td>Optional</td>
          <td>Object: <a href="#VideoRect"> VideoRect</a></td>
          <td>
            <p>Source input rectangle.</p>
            <p><strong>Note</strong>: Full video frame if not set.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p>Example 1:</p>
    <p>Verify video position and size is correctly changed - the video should be placed in bottom right corner:</p>
    <p># luna-send -n&nbsp;1&nbsp;luna://com.webos.service.avoutput/video/display/setDisplayWindow &#39;{&quot;sink&quot;:&quot;MAIN&quot;, &quot;fullScreen&quot;:false, &quot;displayOutput&quot;: {&quot;x&quot;:1000, &quot;y&quot;:500, &quot;width&quot;: 920, &quot;height&quot;:580}}&#39;</p>
    <p>Example 2:</p>
    <p>Verify video source rect is correctly changed - the video should be zoomed in to center 2x:</p>
    <p># luna-send -n&nbsp;1&nbsp;luna://com.webos.service.avoutput/video/display/setDisplayWindow &#39;{&quot;sink&quot;:&quot;MAIN&quot;, &quot;fullScreen&quot;:false, &quot;displayOutput&quot;: {&quot;x&quot;:1000, &quot;y&quot;:500, &quot;width&quot;: 920, &quot;height&quot;:580}, &quot;sourceInput&quot;:{&quot;x&quot;:80, &quot;y&quot;:60, &quot;width&quot;:160,&quot;height&quot;:120}}&#39;</p>
    <p>Example 3:</p>
    <p>Verify fullscreen mode:</p>
    <p># luna-send -n&nbsp;1&nbsp;luna://com.webos.service.avoutput/video/display/setDisplayWindow &#39;{&quot;sink&quot;:&quot;MAIN&quot;, &quot;fullScreen&quot;:true}&#39;</p>
    <p>Example 4:</p>
    <p>Verify opacity, the video should become almost transparent:</p>
    <p># luna-send -n&nbsp;1&nbsp;luna://com.webos.service.avoutput/video/display/setDisplayWindow &#39;{&quot;sink&quot;:&quot;MAIN&quot;, &quot;fullScreen&quot;:true, &quot;opacity&quot;:100}&#39;</p>
  </div>
</div>
<a id="video/display/setCompositing"></a>
<h3>video/display/setCompositing</h3>
<div>
  <h4>Description</h4>
  <p>Set compositing parameters for the video sinks.<br />
    This maps directly to adapter call and changes the compositing parameters for both video outputs simultaneously.
  </p>
  <h4>Parameters</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>mainOpacity</td>
          <td>Required</td>
          <td>Number (uint8_t)</td>
          <td>
            <p>Possible values are:</p>
            <ul>
              <li>int (0..255) - Range of&nbsp;output opacity values that can be specified.</li>
              <li>0 = Highest transparency value,</li>
              <li>255 = Highest opacity value.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>mainZorder</td>
          <td>Required</td>
          <td>Number (uint8_t)</td>
          <td>
            <p>Possible values are:</p>
            <ul>
              <li>int (0..3) - specify relative order between Main and Sub,</li>
              <li>0 = bottom,</li>
              <li>3 = top.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>subOpacity</td>
          <td>Required</td>
          <td>Number (uint32_t) array</td>
          <td>
            <p>Possible values are:</p>
            <ul>
              <li>int (0..255) - Range of&nbsp;output opacity values that can be specified.</li>
              <li>0 = Highest transparency value,</li>
              <li>255 = Highest opacity value.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>subZorder</td>
          <td>Required</td>
          <td>Number (uint32_t) array</td>
          <td>
            <p>Possible&nbsp;values are:</p>
            <ul>
              <li>int (0..3) - specify relative order between Main and Sub,</li>
              <li>0 = bottom,</li>
              <li>3 = top.</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p># luna-send -n&nbsp;1&nbsp;luna://com.webos.service.avoutput/video/display/setVideoCompositing &#39;{&quot;mainOpacity&quot;: 255, &quot;subOpacity&quot;:100, &quot;mainZOrder&quot;:0, &quot;subZOrder&quot;: 1}&#39;</p>
  </div>
</div>
<a id="video/display/getOutputCapabilities"></a>
<h3>video/display/getOutputCapabilities</h3>
<div>
  <h4>Description</h4>
  <p>Helper method to query the set video limits</p>
  <h4>Parameters</h4>
  <p>None</p>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>numPlanes</td>
          <td>Required</td>
          <td>Number (int8_t)</td>
          <td>
            <p>Total hardware planes available with platform for rendering</p>
          </td>
        </tr>
        <tr>
          <td>outputCapability</td>
          <td>Required</td>
          <td>Object array</td>
          <td>
            <p>sinkId: string - one of [&quot;MAIN&quot;, &quot;SUB0&quot;, &quot;SUB1&quot;, ...]</p>
            <p>minDownscaleSize: See &quot;VideoSize&quot; object.</p>
            <p>maxUpscaleSize: See &quot;VideoSize&quot; object.</p>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p># luna-send -n&nbsp;1&nbsp;luna://com.webos.service.avoutput/video/display/getOutputCapabilities&nbsp;&#39;{&quot;subscribe&quot;:true}&#39;</p>
  </div>
</div>
<a id="audio/connect"></a>
<h3>audio/connect</h3>
<div>
  <h4>Description</h4>
  <p>Connects audio source to audio sink.<br />
    <strong>Note</strong>: In case it&#39;s already connected, will disconnect from previous sink automatically.
  </p>
  <h4>Parameters</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>source</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Audio source. Possible values are:&nbsp;</p>
            <ul>
              <li>ADEC</li>
              <li>MIXER</li>
              <li>LOW_DELAY_MIXER</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>sourcePort</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Audio port number.</p>
            <p><strong>Note</strong>: For ADEC, the possible values are 0 and 1.</p>
          </td>
        </tr>
        <tr>
          <td>sink</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Audio sink. Possible values are:</p>
            <ul>
              <li>MAIN</li>
              <li>SUB</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>outputMode</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Mode of output. Possible values are:</p>
            <ul>
              <li>tv_speaker</li>
              <li>external_speaker</li>
              <li>soundbar</li>
              <li>simplink</li>
              <li>bt_soundbar</li>
              <li>lineout</li>
              <li>headphone, ...</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>audioType</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Type of the audio.</p>
            <p><strong>Note</strong>: Only when ADEC is specified.</p>
            <p>Possible values are:</p>
            <ul>
              <li>media</li>
              <li>phone</li>
              <li>test</li>
              <li>ringtone</li>
              <li>default_app</li>
              <li>voice</li>
              <li>alert</li>
              <li>notification</li>
              <li>text_to_speech</li>
              <li>game_media</li>
              <li>game_directmedia</li>
              <li>system_music</li>
              <li>media_mix</li>
              <li>livetv</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/audio/connect &#39;{&quot;source&quot;: &quot;ADEC&quot;, &quot;sourcePort&quot;:1, &quot;sink&quot;:&quot;MAIN&quot;, &quot;outputMode&quot;:&quot;tv_speaker&quot;, &quot;audioType&quot;:&quot;media&quot;}&#39;</p>
  </div>
</div>
<a id="audio/disconnect"></a>
<h3>audio/disconnect</h3>
<div>
  <h4>Description</h4>
  <p>Disconnect from audio sink.<br />
    No change is done if not connected.
  </p>
  <h4>Parameters</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>source</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Audio source. Possible values are:&nbsp;</p>
            <ul>
              <li>ADEC</li>
              <li>MIXER</li>
              <li>LOW_DELAY_MIXER</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>sourcePort</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>Audio port number</p>
            <p><strong>Note: </strong>For ADEC, the possible values are 0 and 1.</p>
          </td>
        </tr>
        <tr>
          <td>sink</td>
          <td>Required</td>
          <td>String</td>
          <td>
            <p>Audio sink. Possible values are:</p>
            <ul>
              <li>MAIN</li>
              <li>SUB</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Call Returns</h4>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>returnValue</td>
          <td>Required</td>
          <td>Boolean</td>
          <td>
            <p>Indicates the status of operation.&nbsp;Possible values are:</p>
            <ul>
              <li><strong>true&nbsp;</strong>- Indicates that the operation was successful.</li>
              <li><strong>false&nbsp;</strong>- Indicates that the operation failed. Check the&nbsp;&quot;errorCode&quot; and &quot;errorText&quot; fields for details</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>errorCode</td>
          <td>Optional</td>
          <td>Number (int8_t)</td>
          <td>
            <p>The error code for the failed operation.</p>
          </td>
        </tr>
        <tr>
          <td>errorText</td>
          <td>Optional</td>
          <td>String</td>
          <td>
            <p>Indicates the reason for the failure of the operation.&nbsp;See the &quot;<strong>API&nbsp;Error Codes Reference&quot;</strong>&nbsp;section for details.</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Example</h4>
  <div class="code-bg-grey">
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/audio/disconnect &#39;{&quot;sink&quot;:&quot;MAIN&quot;, &quot;source&quot;: &quot;ADEC&quot;, &quot;sourcePort&quot;:1}&#39;</p>
    <p># luna-send -n&nbsp;1&nbsp;-f luna://com.webos.service.avoutput/audio/disconnect &#39;{&quot;sink&quot;:&quot;SUB&quot;, &quot;source&quot;: &quot;ADEC&quot;, &quot;sourcePort&quot;:1}&#39;</p>
  </div>
</div>
<div>
  <h2>Objects</h2>
  <a id="VideoRect"></a>
  <h3>VideoRect</h3>
  <p>Object to represent the video window coordinates.</p>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>x</td>
          <td>Required</td>
          <td>Number (int32_t)</td>
          <td>
            <p>Horizontal offset from top left of the screen or origin (0,0)</p>
          </td>
        </tr>
        <tr>
          <td>y</td>
          <td>Required</td>
          <td>Number (int32_t)</td>
          <td>
            <p>Vertical offset from top left of the screen</p>
          </td>
        </tr>
        <tr>
          <td>width</td>
          <td>Required</td>
          <td>Number (int32_t)</td>
          <td>
            <p>Width of the video window</p>
          </td>
        </tr>
        <tr>
          <td>height</td>
          <td>Required</td>
          <td>Number (int32_t)</td>
          <td>
            <p>Height of the video window</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <a id="VideoSize"></a>
  <h3>VideoSize</h3>
  <p>Object to represent&nbsp;video size.</p>
  <div class="table-container">
    <table class="table is-bordered is-fullwidth">
      <tbody>
        <tr>
          <th width="15%">
            <p>Name</p>
          </th>
          <th width="15%">
            <p>Required</p>
          </th>
          <th width="15%">
            <p>Type</p>
          </th>
          <th>
            <p>Description</p>
          </th>
        </tr>
        <tr>
          <td>width</td>
          <td>Required</td>
          <td>Number (int32_t)</td>
          <td>
            <p>Width of the plane</p>
          </td>
        </tr>
        <tr>
          <td>height</td>
          <td>Required</td>
          <td>Number (int32_t)</td>
          <td>
            <p>Height of the plane</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<h2>API Error Codes Reference</h2>
<div class="table-container">
  <table class="table is-bordered is-fullwidth">
    <tbody>
      <tr>
        <th width="15%">
          <p>Error Code</p>
        </th>
        <th width="30%">
          <p>Error Text</p>
        </th>
        <th width="55%">
          <p>Error Description</p>
        </th>
      </tr>
      <tr>
        <td>1</td>
        <td>Unknown error</td>
        <td>
          <p>General Service error: API_ERROR_UNKNOWN &nbsp; 1 &nbsp;&quot;Unknown error&quot;</p>
        </td>
      </tr>
      <tr>
        <td>10</td>
        <td>Not implemented</td>
        <td>
          <p>General Service error: API_ERROR_NOT_IMPLEMENTED &nbsp;10 &quot;Not implemented&quot;</p>
        </td>
      </tr>
      <tr>
        <td>20</td>
        <td>Driver error while executing the command</td>
        <td>
          <p>Driver error:&nbsp;API_ERROR_HAL_ERROR &nbsp; &nbsp;20 &nbsp;&quot;Driver error while executing the command&quot;</p>
        </td>
      </tr>
      <tr>
        <td>100</td>
        <td>Video not connected</td>
        <td>
          <p>Video error: API_ERROR_VIDEO_NOT_CONNECTED &nbsp; &nbsp;100 &nbsp; &quot;Video not connected&quot;</p>
        </td>
      </tr>
      <tr>
        <td>200</td>
        <td>Audio not connected</td>
        <td>
          <p>Audio error: API_ERROR_AUDIO_NOT_CONNECTED &nbsp; 200 &nbsp;&quot;Audio not connected&quot;</p>
        </td>
      </tr>
    </tbody>
  </table>
</div>